# thu-library

这是一个简单的python爬虫程序，用以检索清华大学图书馆中指定ISBN号的图书馆藏信息，可以返回馆藏是否有该图书，若还在订购中则返回“订购中”，若该书目前在库，则直接返回索书号

## 输入

请将待查询数目的ISBN号放入”查询.txt“，规则：每行一个索书号且不需要分隔符，如：

```
9780198832638
9781138484337
9783161555886
9781138478251
```

同时我也放置了一些测试数据供大家参考，见“查询.txt”

## 使用

使用非常简单，直接调用python脚本即可，程序运行过程中会显示当前查询书目的状态，便于大家监控查询进度，如：

```
[2/4]ISBN:9783518283233,订购中
```

## 输出

结果会直接返回每条书目的状态信息，与输入内容逐行对应，并保存到“输出.txt"文件中

其中书目的状态信息有：

N：表示未检索到书目信息，如：ISBN 9783518283233

订购中：表示水木搜索中可以检索到该条信息，但是该图书正在订购中，还未入库，如：ISBN 9783518283233

索书号：如该图书已经在架上则直接返回索书号，如：ISBN 9780198833567 则返回 `B087 FA97`

Tips：该程序只会输出显示为”图书“的条目，”评论“等与本书无关的条目并不会被显示

## 版本更新

#### ver2.2

- 增加了对多个电子资源的支持，输出格式为：“电子资源：(数据库1);(数据库2)”，其中电子资源数据库名仅显示第一个单词
- 增加了对同时具有纸质资源和电子资源的支持
- 修复了因为网络问题可能导致误判为没有馆藏的问题（提示：这次更新可能会降低查询效率，增加查询时间；但程序逻辑中准确度的优先级高于效率）
- 增加了之前未完成功能——“在线全文”：若存在在线全文则直接返回（在线全文为电子资源，但数据库名未知）
- 连续if语句改为`if...elif..else`嵌套结构，提高运行效率

#### ver2.1

- 修复了因为网页未加载完导致函数无返回值的问题
- 修复了因为有“评论”等无效资源，但无“图书”类型资源而没有返回值的问题
- 新增“text.xlsx"，记录运行测试数据的结果以及程序准确率(**Accuracy**)

#### ver2.0

- 增加了对电子资源数据库的支持